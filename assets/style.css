
/* =========================
   Tema & Variabel Global
   ========================= */
:root {
  /* Palet dasar */
  --bg: #0b0f1f;
  --bg-2: #141a33;
  --card-bg: #111827;
  --text: #ffffff;                   /* teks default putih */
  --muted: rgba(255,255,255,0.80);   /* putih agak transparan */

  /* Aksen UNGU TUA (favorit) — bisa kamu ganti kalau mau */
  --accent: #6D28D9;   /* purple-700 */
  --accent-2: #8B5CF6; /* purple-500 */
  --border: rgba(255,255,255,0.18);

  /* Header kartu */
  --header-top: #1a1540;     /* ungu gelap */
  --header-bottom: #0e1330;  /* biru-ungu gelap */

  /* Ukuran PREVIEW di layar (px) */
  --preview-w: 760px;   /* memanjang ke kanan */
  --preview-h: 440px;   /* lebih tinggi */

  /* Shadow */
  --shadow-strong: 0 28px 56px rgba(0,0,0,.38);
  --shadow-soft: 0 12px 26px rgba(0,0,0,.24);
}

/* =========================
   Reset & Body
   ========================= */
* { box-sizing: border-box; }
html, body { height: 100%; }

body {
  margin: 0;
  font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
  color: var(--text);
  background:
    radial-gradient(1200px 800px at 20% 10%, #1f2a4a 0%, var(--bg) 58%),
    linear-gradient(120deg, var(--bg) 0%, var(--bg-2) 100%);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* Animasi latar halus */
  background-size: 200% 200%;
  animation: bg-drift 20s ease-in-out infinite;
}
@keyframes bg-drift {
  0%, 100% { background-position: 0% 0%; }
  50%      { background-position: 100% 100%; }
}
@media (prefers-reduced-motion: reduce) {
  body { animation: none; }
}

/* =========================
   Header Halaman
   ========================= */
.site-header {
  display: grid;
  grid-template-columns: 1fr auto auto;
  align-items: center;
  gap: 1rem;
  padding: 1rem 2rem;
  border-bottom: 1px solid var(--border);
  background: rgba(17, 24, 39, 0.65);
  backdrop-filter: blur(8px);
}
.brand { display: flex; align-items: center; gap: 1rem; }
.logo {
  width: 56px; height: 56px; border-radius: 12px;
  box-shadow: 0 6px 16px rgba(0,0,0,.25);
  transition: transform .25s ease;
}
.logo:hover { transform: translateY(-1px) scale(1.03); }

.brand-text .univ-name {
  font-weight: 800; letter-spacing: .5px; margin: 0;
  background: linear-gradient(90deg, #fff, var(--accent-2));
  -webkit-background-clip: text; background-clip: text; color: transparent;
}
.brand-text .univ-tagline { margin: 0; color: var(--muted); font-size: .95rem; }

.menu { display: flex; gap: 1rem; }
.menu a {
  color: var(--text); text-decoration: none;
  padding: .5rem .75rem; border-radius: .6rem;
  transition: background .2s ease, transform .2s ease, color .2s ease;
}
.menu a:hover { background: #151c35; transform: translateY(-1px); color: #fff; }

/* =========================
   Audio Player Cantik + Equalizer
   ========================= */
.audio-box { display: flex; align-items: center; gap: .75rem; color: var(--muted); }

.audio-wrap {
  display: inline-flex; align-items: center; gap: .75rem;
  padding: .35rem .6rem; border-radius: 999px;
  background: rgba(109,40,217,0.15); /* aksen ungu */
  border: 1px solid rgba(139,92,246,.35);
  box-shadow: 0 6px 18px rgba(109,40,217,.25) inset;
}
.audio-wrap label { color: #e9ddff; font-weight: 600; }
.audio-wrap audio {
  filter: hue-rotate(15deg) saturate(1.05);
  accent-color: var(--accent);
}

/* Equalizer mini */
.eq {
  display: inline-flex; gap: 3px; height: 16px; align-items: flex-end;
}
.eq span {
  width: 3px; height: 6px; background: var(--accent);
  border-radius: 2px; opacity: .85;
  animation: eqPulse 1s ease-in-out infinite;
}
.eq span:nth-child(2) { height: 10px; animation-delay: .12s; }
.eq span:nth-child(3) { height: 8px;  animation-delay: .24s; }
.eq span:nth-child(4) { height: 12px; animation-delay: .36s; }
.eq span:nth-child(5) { height: 9px;  animation-delay: .48s; }
@keyframes eqPulse {
  0%, 100% { transform: scaleY(.6); }
  50%      { transform: scaleY(1.4); }
}
/* Saat audio pause, hentikan animasi */
.eq.paused span { animation-play-state: paused; opacity: .4; }
@media (prefers-reduced-motion: reduce) {
  .eq span { animation: none; }
}

/* =========================
   Layout Halaman
   ========================= */
.layout { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; padding: 2rem; }
.form-panel, .preview-panel {
  background: rgba(17, 24, 39, 0.45);
  border: 1px solid var(--border);
  border-radius: 18px;
  padding: 1.25rem;
  box-shadow: var(--shadow-soft);
}
.form-panel h2, .preview-panel h2 { margin-top: 0; }

/* Responsif */
@media (max-width: 1024px) {
  .layout { grid-template-columns: 1fr; }
}

/* =========================
   Form
   ========================= */
.form-row { display: grid; gap: .5rem; margin-bottom: 1rem; }
.form-row label { color: var(--muted); }

.form-row input[type="text"],
.form-row input[type="date"],
.form-row select {
  width: 100%;
  padding: .8rem 1rem;
  border-radius: .7rem;
  border: 1px solid var(--border);
  background: #0b1228;
  color: var(--text);
  outline: none;
  transition: border-color .25s ease, box-shadow .25s ease, background .25s ease;
}
.form-row input[type="text"]:focus,
.form-row input[type="date"]:focus,
.form-row select:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 4px rgba(109,40,217,.18);
  background: #0e1632;
}
.form-row input[type="text"]::placeholder { color: rgba(255,255,255,0.55); }

.fieldset {
  border: 1px dashed var(--border);
  border-radius: .9rem;
  padding: .9rem 1.1rem;
}
.fieldset legend { color: var(--muted); padding: 0 .5rem; }
.fieldset label { margin-right: 1rem; }

/* Tombol */
.actions { display: flex; gap: .75rem; }
.btn {
  padding: .9rem 1.2rem; border-radius: .9rem; border: 0; cursor: pointer; font-weight: 700;
  transition: transform .2s ease, box-shadow .2s ease, filter .2s ease;
}
.btn.primary {
  background: linear-gradient(90deg, var(--accent) 0%, var(--accent-2) 100%);
  color: white;
  box-shadow: 0 12px 28px rgba(109,40,217,.35);
}
.btn.primary:hover { filter: brightness(1.08); transform: translateY(-1px); }
.btn.primary:active { transform: translateY(0); }
.hint { color: var(--muted); }

/* Animasi tombol halus (pulse) */
@keyframes pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(139,92,246,.35); }
  50%      { box-shadow: 0 0 0 10px rgba(139,92,246,.0); }
}
.btn.primary { animation: pulse 3.5s ease-in-out infinite; }
@media (prefers-reduced-motion: reduce) { .btn.primary { animation: none; } }

/* =========================
   KARTU KTM — PREVIEW LAYAR
   ========================= */
.ktm-card {
  width: var(--preview-w);
  min-height: var(--preview-h);
  padding: 24px;
  background: var(--card-bg);
  border: 2px solid var(--border);
  border-radius: 24px;
  box-shadow: var(--shadow-strong);
  position: relative;
  overflow: hidden;
  transition: transform .3s ease, box-shadow .3s ease;
}
.ktm-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 32px 64px rgba(0,0,0,.4);
}

/* Pastikan semua teks kartu putih */
.ktm-card, .ktm-card * { color: #fff; }

/* Header kartu panel aksen — full width + efek sheen */
.ktm-header {
  position: relative;
  display: grid;
  grid-template-columns: 72px 1fr;
  align-items: center;
  gap: 16px;
  padding: 16px 20px;
  margin: -24px -24px 16px; /* full bleed sisi kartu */
  background: linear-gradient(90deg, var(--header-top), var(--header-bottom));
  border-bottom: 1px solid var(--border);
}
.ktm-header::after {
  content: "";
  position: absolute;
  left: -30%; top: 0;
  width: 30%; height: 100%;
  background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,.15) 50%, transparent 100%);
  transform: skewX(-20deg);
  animation: sheen 6s linear infinite;
  pointer-events: none;
}
@keyframes sheen { 0% { left: -30%; } 100% { left: 110%; } }
@media (prefers-reduced-motion: reduce) { .ktm-header::after { animation: none; } }

.ktm-logo { width: 64px; height: 64px; border-radius: 16px; }
.ktm-title {
  font-family: 'Montserrat', 'Poppins', sans-serif;
  margin: 0;
  letter-spacing: .6px;
  color: #fff;
  font-size: 1.35rem;
  line-height: 1.25;
}
.ktm-univ { margin: 4px 0 0; color: #e6eefc; font-size: 1rem; }

/* Garis pemisah setelah header */
.ktm-card hr {
  border: none;
  border-top: 1px solid rgba(255,255,255,0.45);
  margin: 10px 0 14px;
}

/* Tabel biodata */
.ktm-table { width: 100%; border-collapse: collapse; font-size: 1rem; }
.ktm-table td {
  padding: 8px 10px;
  border-bottom: 1px dashed rgba(255,255,255,0.35);
  vertical-align: top;
  line-height: 1.35;
}
.ktm-table tr:first-child td { padding-top: 4px; }
.ktm-table td:first-child {
  width: 26%;
  color: rgba(255,255,255,0.9);
  font-weight: 500;
  letter-spacing: .2px;
}
.ktm-table td:last-child {
  color: #fff;
  font-weight: 700;
  overflow-wrap: anywhere;
}

/* Footer tanda tangan */
.ktm-footer {
  position: absolute;
  bottom: 18px;
  right: 20px;
  color: rgba(255,255,255,0.85);
  font-size: .95rem;
  text-align: right;
}

/* Placeholder saat belum ada data */
.placeholder { color: var(--muted); }
.is-hidden { display: none; }

/* =========================
   Footer Halaman
   ========================= */
.site-footer {
  padding: 1rem 2rem;
  color: var(--muted);
  border-top: 1px solid var(--border);
}

/* =========================
   CETAK — 1 halaman A4, kartu besar sama seperti preview,
   SEMUA TEKS PUTIH
   ========================= */
@media print {
  html, body {
    width: 100%; height: 100%;
    margin: 0 !important; padding: 0 !important;
    background: #ffffff !important; color: #000;
  }

  .site-header, .form-panel, .site-footer, h2, #ktmPlaceholder {
    display: none !important; visibility: hidden !important;
  }

  .preview-panel {
    display: flex !important; align-items: center !important; justify-content: center !important;
    height: 100vh; padding: 0 !important; margin: 0 !important;
    border: 0 !important; box-shadow: none !important; background: transparent !important;
    page-break-after: avoid; page-break-before: avoid;
  }

  .ktm-card {
    width: 180mm; min-height: 120mm; padding: 12mm;
    border-radius: 10mm; border: 1px solid #333; box-shadow: none;
    page-break-inside: avoid; break-inside: avoid; overflow: hidden;
    -webkit-print-color-adjust: exact; print-color-adjust: exact;
    background: var(--card-bg);
  }

  /* Teks putih saat cetak */
  .ktm-card, .ktm-card * { color: #ffffff !important; }

  .ktm-header {
    grid-template-columns: 20mm 1fr; gap: 6mm;
    padding: 6mm 8mm; margin: -12mm -12mm 6mm;
    background: #1a1540; border-bottom: 0.4pt solid rgba(255,255,255,0.45);
  }
  .ktm-header::after { display: none; }
  .ktm-logo { width: 20mm; height: 20mm; border-radius: 5mm; }
  .ktm-title { font-size: 18pt; color: #fff; margin: 0; letter-spacing: .6px; }
  .ktm-univ  { font-size: 12pt; color: #e6eefc; margin: 0; }

  .ktm-card hr { border: none; border-top: 0.4pt solid rgba(255,255,255,0.45); margin: 6mm 0 8mm; }

  .ktm-table { width: 100%; border-collapse: collapse; font-size: 11pt; page-break-inside: avoid; break-inside: avoid; }
  .ktm-table td {
    padding: 3mm 4mm; border-bottom: 0.4pt dashed rgba(255,255,255,0.35);
    vertical-align: top; line-height: 1.35; color: #ffffff !important;
  }
  .ktm-table td:first-child { width: 28%; color: rgba(255,255,255,0.9) !important; font-weight: 600; letter-spacing: .2px; }
  .ktm-table td:last-child  { color: #ffffff !important; font-weight: 700; overflow-wrap: anywhere; }

  .ktm-footer { position: absolute; bottom: 8mm; right: 12mm; font-size: 10pt; color: rgba(255,255,255,0.85) !important; text-align: right; }

  @page { size: A4; margin: 12mm; }
}
